(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d225dd9"],{e5e8:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"my-modal",expression:"'my-modal'"}],attrs:{variant:"success"}},[a("b-icon-star",{attrs:{"shift-h":"-3"}}),e._v(" Dodaj ocenu ")],1),a("b-modal",{attrs:{id:"my-modal","hide-footer":"",title:"Ocenjivanje"}},[a("b-form",[a("b-form-group",{attrs:{id:"rating-subject-group",label:"Predmet ocene:","label-for":"rating-subject-input"}},[a("b-form-select",{attrs:{options:e.subjectOptions},model:{value:e.subjectSelected,callback:function(t){e.subjectSelected=t},expression:"subjectSelected"}})],1),"dermatologist"==e.subjectSelected?a("b-form-group",{attrs:{id:"dermatologist-group",label:"Dermatolozi kod kojih ste bili:","label-for":"dermatologist-input"}},[a("b-form-select",{attrs:{options:e.dermatologists},model:{value:e.dermatologistSelected,callback:function(t){e.dermatologistSelected=t},expression:"dermatologistSelected"}})],1):e._e(),"pharmacist"==e.subjectSelected?a("b-form-group",{attrs:{id:"pharmacist-group",label:"Farmaceuti kod kojih ste bili:","label-for":"pharmacist-input"}},[a("b-form-select",{attrs:{options:e.pharmacists},model:{value:e.pharmacistSelected,callback:function(t){e.pharmacistSelected=t},expression:"pharmacistSelected"}})],1):e._e(),"drug"==e.subjectSelected?a("b-form-group",{attrs:{id:"drug-group",label:"Lekovi koje ste koristili:","label-for":"drug-input"}},[a("b-form-select",{attrs:{options:e.options},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1):e._e(),"pharmacy"==e.subjectSelected?a("b-form-group",{attrs:{id:"pharmacy-group",label:"Apoteke koje ste posetili:","label-for":"pharmacy-input"}},[a("b-form-select",{attrs:{options:e.pharmacies},model:{value:e.pharmacySelected,callback:function(t){e.pharmacySelected=t},expression:"pharmacySelected"}})],1):e._e(),null!=e.subjectSelected?a("b-form-group",{attrs:{id:"rating-group",label:"Izaberite ocenu:","label-for":"rating-input"}},[a("b-form-rating",{model:{value:e.rating,callback:function(t){e.rating=t},expression:"rating"}})],1):e._e(),a("b-button",{attrs:{block:"",variant:"success"},on:{click:function(t){return e.rate()}}},[e._v(" Dodaj ocenu ")])],1)],1)],1)},o=[],i=(a("4160"),a("b0c0"),a("159b"),{data:function(){return{subjectOptions:[{value:null,text:"Izaberite predmet ocene"},{value:"dermatologist",text:"Dermatolog"},{value:"pharmacist",text:"Farmaceut"},{value:"drug",text:"Lek"},{value:"pharmacy",text:"Apoteka"}],subjectSelected:null,dermatologists:[],dermatologistSelected:null,pharmacists:[],pharmacistSelected:null,drugs:[],drugSelected:null,pharmacies:[],pharmacySelected:null,rating:4}},methods:{rate:function(){var e=this;this.$http.post("rating/rate",{dermatologistId:this.dermatologistSelected,pharmacistId:this.pharmacistSelected,drugId:this.drugSelected,pharmacyId:this.pharmacySelected,rating:this.rating}).then((function(t){200==t.status&&(e.closeModal(),e.$router.go(0),e.toast("Uspešno ste dodali ocenu!","Uspešno","success"))})).catch((function(t){400==t.response.status?e.toast("Izabrani predmet ocenjivanja ste već ocenili! Molimo izaberite drugi.","Neuspešno","danger"):e.toast("Desila se greška! Molimo pokušajte kasnije","Neuspešno","danger")}))},closeModal:function(){this.$bvModal.hide("my-modal")},toast:function(e,t,a){this.$bvToast.toast(e,{title:t,variant:a,autoHideDelay:5e3})},getDermatologist:function(){var e=this;this.$http.get("examination/patient-employees?type=DermatologistExamination").then((function(t){console.log(t.data),200==t.status&&(e.dermatologists=[],e.dermatologists.push({value:null,text:"Izaberite dermatologa"}),t.data.forEach((function(t){e.dermatologists.push({value:t.id,text:t.firstName+" "+t.lastName})})))}))},getPharmacist:function(){var e=this;this.$http.get("examination/patient-employees?type=PharmacistExamination").then((function(t){200==t.status&&(e.pharmacists=[],e.pharmacists.push({value:null,text:"Izaberite farmaceuta"}),t.data.forEach((function(t){e.pharmacists.push({value:t.id,text:t.firstName+" "+t.lastName})})))}))},getPharmacies:function(){var e=this;this.$http.get("pharmacy/patient-pharmacies").then((function(t){200==t.status&&(e.pharmacies=[],e.pharmacies.push({value:null,text:"Izaberite apoteku"}),t.data.forEach((function(t){e.pharmacies.push({value:t.id,text:t.name})})))}))}},watch:{subjectSelected:function(){switch(this.dermatologistSelected=null,this.pharmacistSelected=null,this.pharmacySelected=null,this.drugSelected=null,this.subjectSelected){case"dermatologist":this.getDermatologist();break;case"pharmacist":this.getPharmacist();break;case"pharmacy":this.getPharmacies();break}}}}),r=i,l=a("2877"),c=Object(l["a"])(r,s,o,!1,null,null,null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d225dd9.a06e647b.js.map