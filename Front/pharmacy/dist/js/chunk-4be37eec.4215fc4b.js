(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4be37eec"],{"18f3":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("b-card",{staticClass:"mt-3",attrs:{"no-body":""}},[a("b-tabs",{attrs:{pills:"",card:"",align:"center",lazy:""}},[a("b-tab",{attrs:{title:"Pregledi kod dermatologa",active:""}},[a("MyDermatologistExaminations")],1),a("b-tab",{attrs:{title:"Savetovanja kod farmaceuta"}},[a("MyPharmacistExaminations")],1)],1)],1)],1)},s=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("h6",{staticClass:"h6 text-left mb-3"},[t._v("Prestojeći termini")]),a("b-table",{ref:"future",attrs:{striped:"",hover:"",items:t.futureData,fields:t.fields},scopedSlots:t._u([{key:"cell(akcije)",fn:function(e){return[a("b-button",{attrs:{size:"sm",variant:"danger"},on:{click:function(a){return t.cancel(e)}}},[a("b-icon-x"),t._v(" Otkaži pregled ")],1)]}}])}),a("h6",{staticClass:"h6 text-left mt-5 mb-3"},[t._v("Završeni termini")]),a("b-table",{ref:"past",attrs:{striped:"",hover:"",items:t.pastData,fields:t.fields},scopedSlots:t._u([{key:"cell(akcije)",fn:function(e){return[a("b-button",{attrs:{size:"sm"},on:{click:function(a){return t.schedule(e)}}},[t._v(" Prikaži detaljnije ")])]}}])})],1)},o=[],r=(a("4160"),a("a434"),a("159b"),{data:function(){return{futureData:[],pastData:[],fields:["termin","dermatolog",{key:"ocena",sortable:!0},{key:"cena",sortable:!0},"akcije"],showModal:!1}},methods:{cancel:function(t){var e=this;this.$http.get("examination/cancel/"+t.item.id).then((function(a){200==a.status&&(e.toast("Uspešno ste otkazali pregled!","Uspešno","success"),e.futureData.splice(t.index,1),e.$refs.future.refresh())})).catch((function(t){400==t.response.status?e.toast("Ne možete otkazati pregled do kojeg je ostalo manje od 24h!","Neuspešno","danger"):e.toast("Desila se greška! Molimo pokušajte kasnije","Neuspešno","danger")}))},toast:function(t,e,a){this.$bvToast.toast(t,{title:e,variant:a,autoHideDelay:5e3})}},mounted:function(){var t=this;this.$http.post("examination/future",{type:"DermatologistExamination"}).then((function(e){console.log(e.data);var a=[];e.data.forEach((function(t){a.push({termin:new Date(t.term).toLocaleString(),dermatolog:t.employee,ocena:0!=t.employeeRating?t.employeeRating:"Nema ocenu",cena:t.price+" din",id:t.examinationId})})),t.futureData=a}))}}),c=r,l=a("2877"),u=Object(l["a"])(c,n,o,!1,null,null,null),m=u.exports,d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("h6",{staticClass:"h6 float-left text-left mt-1"},[t._v("Prestojeći termini")]),a("ScheduleModal",{staticClass:"float-right mt-n2 mb-3"}),a("b-table",{ref:"future",attrs:{striped:"",hover:"",items:t.futureData,fields:t.fields},scopedSlots:t._u([{key:"cell(akcije)",fn:function(e){return[a("b-button",{attrs:{size:"sm",variant:"danger"},on:{click:function(a){return t.cancel(e)}}},[a("b-icon-x"),t._v(" Otkaži savetovanje ")],1)]}}])}),a("h6",{staticClass:"h6 text-left mt-5 mb-3"},[t._v("Završeni termini")]),a("b-table",{ref:"past",attrs:{striped:"",hover:"",items:t.pastData,fields:t.fields},scopedSlots:t._u([{key:"cell(akcije)",fn:function(e){return[a("b-button",{attrs:{size:"sm"},on:{click:function(a){return t.schedule(e)}}},[t._v(" Prikaži detaljnije ")])]}}])})],1)},h=[],f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"my-modal",expression:"'my-modal'"}],attrs:{variant:"success"}},[a("b-icon-calendar-check",{attrs:{"shift-h":"-3"}}),t._v(" Zakaži konsultovanje ")],1),a("b-modal",{attrs:{id:"my-modal",size:"lg","hide-footer":"",title:"Zakazivanje savetovanja kod farmaceuta"},on:{hidden:function(e){return t.closeModal(!0)}}},[t.showPharmacy?a("div",{staticClass:"pharmacy-selection"},[a("b-form",[a("b-form-group",{attrs:{id:"date-group",label:"Datum:","label-for":"date-input"}},[a("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"date-input",placeholder:"Izaberite datum"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),a("b-form-timepicker",{attrs:{placeholder:"Izaberite vreme",locale:"en"},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1),a("b-button",{attrs:{block:"",variant:"success"},on:{click:function(e){return t.findPharmacies()}}},[t._v(" Pretraži apoteke ")])],1),a("b-table",{staticClass:"mt-3",attrs:{striped:"",hover:"",items:t.pharmacyItems,fields:t.pharmacyFields},scopedSlots:t._u([{key:"cell(akcije)",fn:function(e){return[a("b-button",{attrs:{size:"sm"},on:{click:function(a){return t.showPharmacistsDialog(e)}}},[t._v(" Pogledaj ")])]}}],null,!1,3609046543)})],1):t._e(),t.showPharmacist?a("div",{staticClass:"pharmacist-selection"},[a("div",{staticClass:"pharmacist-title"},[a("b-button",{staticClass:"p-0",attrs:{size:"sm",variant:"bg-transparent default"},on:{click:t.closeModal}},[a("b-icon-chevron-left",{attrs:{"font-scale":"1.5"}})],1),a("h6",{staticClass:"h6 mt-1 ml-2"},[t._v("Slobodni farmaceuti")])],1),a("b-table",{staticClass:"mt-3",attrs:{striped:"",hover:"",items:t.pharmacistItems,fields:t.pharmacistFields},scopedSlots:t._u([{key:"cell(akcije)",fn:function(e){return[a("b-overlay",{staticClass:"d-inline-block",attrs:{show:t.busy,rounded:"",opacity:"0.6","spinner-small":"","spinner-variant":"primary"}},[a("b-button",{attrs:{variant:"success",size:"sm",block:""},on:{click:function(a){return t.scheduleExamination(e)}}},[t._v(" Zakaži ")])],1)]}}],null,!1,544858953)})],1):t._e()])],1)},p=[],b=(a("b0c0"),a("ac1f"),a("1276"),{data:function(){return{pharmacyItems:[],pharmacyFields:["ime","grad",{key:"ocena",sortable:!0},{key:"cena",sortable:!0},"akcije"],pharmacistItems:[],pharmacistFields:["ime","prezime",{key:"ocena",sortable:!0},"akcije"],showPharmacy:!0,showPharmacist:!1,date:"",time:"",busy:!1}},methods:{showPharmacistsDialog:function(t){var e=this;this.showPharmacy=!1,this.showPharmacist=!0,this.$http.post("pharmacy/examinations",{id:t.item.id,type:"PharmacistExamination",date:new Date(this.date+" "+this.time).getTime()}).then((function(t){if(200==t.status){var a=[];t.data.forEach((function(t){a.push({ime:t.employee.split(" ")[0],prezime:t.employee.split(" ")[1],ocena:0!=t.employeeRating?t.employeeRating:"Nema ocenu",id:t.examinationId})})),e.pharmacistItems=a}}))},scheduleExamination:function(t){var e=this;this.busy=!0,this.$http.get("examination/schedule/"+t.item.id).then((function(t){200==t.status&&(e.toast("Uspešno ste zakazali konsultovanje kod farmaceuta!","Uspešno","success"),e.$bvModal.hide("my-modal"),e.closeModal(!0),setTimeout((function(){e.$router.go(0)}),250))}))},closeModal:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.showPharmacy=!0,this.showPharmacist=!1,this.busy=!1,1==t&&(this.pharmacyItems=[],this.pharmacistItems=[],this.date="",this.time="")},findPharmacies:function(){var t=this;""!=this.date&&""!=this.time?this.$http.post("pharmacy/search-examinations",{date:new Date(this.date+" "+this.time).getTime(),type:"PharmacistExamination"}).then((function(e){if(200==e.status){var a=[];e.data.forEach((function(t){a.push({ime:t.name,grad:t.address,ocena:0!=t.rating?t.rating:"Nema ocenu",cena:t.pharmacistPrice+" din",id:t.id})})),t.pharmacyItems=a,0==a.length&&t.toast("Nažalost ne postoji nijedan slobodan farmaceut za dati termin. Molimo pokušajte drugi termin.","Neuspešno","danger")}})).catch((function(e){200!=e.response.status&&t.toast("Desila se greška! Molimo pokušajte kasnije","Neuspešno","danger")})):this.toast("Niste popunili datum savetovanja! Molimo Vas popunite i datum i vreme.","Neuspešno","danger")},toast:function(t,e,a){this.$bvToast.toast(t,{title:e,variant:a,autoHideDelay:5e3})}}}),v=b,k=(a("c474"),Object(l["a"])(v,f,p,!1,null,"94503dae",null)),y=k.exports,g={data:function(){return{futureData:[],pastData:[],fields:["termin","farmaceut",{key:"ocena",sortable:!0},{key:"cena",sortable:!0},"akcije"]}},methods:{cancel:function(t){var e=this;this.$http.get("examination/cancel/"+t.item.id).then((function(a){200==a.status&&(e.toast("Uspešno ste otkazali savetovanje!","Uspešno","success"),e.futureData.splice(t.index,1),e.$refs.future.refresh())})).catch((function(t){400==t.response.status?e.toast("Ne možete otkazati savetovanje do kojeg je ostalo manje od 24h!","Neuspešno","danger"):e.toast("Desila se greška! Molimo pokušajte kasnije","Neuspešno","danger")}))},toast:function(t,e,a){this.$bvToast.toast(t,{title:e,variant:a,autoHideDelay:5e3})}},mounted:function(){var t=this;this.$http.post("examination/future",{type:"PharmacistExamination"}).then((function(e){var a=[];e.data.forEach((function(t){a.push({termin:new Date(t.term).toLocaleString(),farmaceut:t.employee,ocena:0!=t.employeeRating?t.employeeRating:"Nema ocenu",cena:t.price+" din",id:t.examinationId})})),t.futureData=a}))},components:{ScheduleModal:y}},j=g,x=Object(l["a"])(j,d,h,!1,null,null,null),_=x.exports,D={components:{MyDermatologistExaminations:m,MyPharmacistExaminations:_}},P=D,w=Object(l["a"])(P,i,s,!1,null,null,null);e["default"]=w.exports},c474:function(t,e,a){"use strict";a("ca07")},ca07:function(t,e,a){}}]);
//# sourceMappingURL=chunk-4be37eec.4215fc4b.js.map